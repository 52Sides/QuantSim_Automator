ğŸš€ QuantSim Automator (v2.1) â€” Portfolio Simulation Web Platform
Stack: FastAPI + React + Kafka + Celery + PostgreSQL + Docker

ğŸ§  ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ
QuantSim Automator â€” ÑÑ‚Ğ¾ Ğ²ĞµĞ±-Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ğ¸ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ€Ñ‚Ñ„ĞµĞ»Ñ Ğ¿Ğ¾ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼.
ĞĞ½Ğ° Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½ÑƒÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ, Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹, Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½ÑƒÑ ÑˆĞ¸Ğ½Ñƒ Kafka Ğ´Ğ»Ñ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸.

Ğ¦ĞµĞ»ÑŒ: ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ production-grade Ğ¿Ñ€Ğ¾ĞµĞºÑ‚, Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ ÑƒĞ¼ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğµ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ñ FastAPI, React Ğ¸ Kafka.

ğŸ§© ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
quant_sim_automator/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py                     # FastAPI entrypoint
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio.py        # ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ğ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.py          # Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reports.py          # ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ¾Ğ²
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ events.py           # Kafka event endpoints
â”‚   â”‚   â”‚   â””â”€â”€ deps.py
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio.py
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.py
â”‚   â”‚   â”‚   â”œâ”€â”€ fetchers/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ base_fetcher.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ coingecko_fetcher.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ yfinance_fetcher.py
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚   â”‚       â”œâ”€â”€ asset.py
â”‚   â”‚   â”‚       â”œâ”€â”€ result.py
â”‚   â”‚   â”‚       â””â”€â”€ event.py
â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.py             # SQLAlchemy + asyncpg (PostgreSQL)
â”‚   â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚   â”‚       â”œâ”€â”€ asset_model.py
â”‚   â”‚   â”‚       â”œâ”€â”€ simulation_model.py
â”‚   â”‚   â”‚       â””â”€â”€ metric_model.py
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ worker.py               # Celery (Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ°Ñ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ)
â”‚   â”‚   â”‚   â”œâ”€â”€ scheduler.py            # APScheduler
â”‚   â”‚   â”‚   â”œâ”€â”€ kafka_producer.py       # Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
â”‚   â”‚   â”‚   â””â”€â”€ kafka_consumer.py       # Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
â”‚   â”‚   â”œâ”€â”€ exporters/
â”‚   â”‚   â”‚   â”œâ”€â”€ html_report.py
â”‚   â”‚   â”‚   â”œâ”€â”€ excel_exporter.py
â”‚   â”‚   â”‚   â””â”€â”€ visualizer.py
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ logger.py
â”‚   â”‚   â”‚   â”œâ”€â”€ errors.py
â”‚   â”‚   â”‚   â””â”€â”€ decorators.py
â”‚   â”‚   â””â”€â”€ tests/
â”‚   â”‚       â”œâ”€â”€ test_metrics.py
â”‚   â”‚       â””â”€â”€ test_kafka_events.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio.ts
â”‚   â”‚   â”‚   â””â”€â”€ events.ts               # Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° Kafka Ñ‡ĞµÑ€ĞµĞ· WebSocket Gateway
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ PortfolioForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MetricsTable.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ChartView.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Notifications.tsx       # Ñ€ĞµĞ°Ğ»Ñ‚Ğ°Ğ¹Ğ¼ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (Ñ‡ĞµÑ€ĞµĞ· Kafka gateway)
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Reports.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Settings.tsx
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â””â”€â”€ portfolioStore.ts
â”‚   â”‚   â”œâ”€â”€ main.tsx
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ kafka/
â”‚   â”œâ”€â”€ docker-compose.override.yml     # Ğ±Ñ€Ğ¾ĞºĞµÑ€ Kafka + Zookeeper
â”‚   â”œâ”€â”€ topics_config/
â”‚   â”‚   â”œâ”€â”€ portfolio-events.json       # ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ report-events.json
â”‚   â”‚   â””â”€â”€ metrics-events.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ docker-compose.yml                  # orchestration (backend + frontend + kafka + redis + postgres)
â”œâ”€â”€ .env
â”œâ”€â”€ README.md
â””â”€â”€ mkdocs.yml

âš™ï¸ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸
ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ		Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸						ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
Frontend		React (Vite, TS), Zustand, Plotly.js, Tailwind, Axios	UI/UX, Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸, Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ñ‹
Backend (API)		FastAPI, Pydantic, Celery, Kafka, Redis	REST API, 	Ñ„Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸, ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…		PostgreSQL (asyncpg + SQLAlchemy 2.0)			ĞµĞ´Ğ¸Ğ½Ğ°Ñ Ğ‘Ğ” Ğ´Ğ»Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¾Ğ², ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ğ¹, Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ		asyncio, aiohttp					ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ĞºĞ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğº
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ ÑˆĞ¸Ğ½Ğ°		Apache Kafka						Ğ¾Ğ±Ğ¼ĞµĞ½ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑĞ¼Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸
Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ / ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°	pandas, numpy						Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ / ĞÑ‚Ñ‡Ñ‘Ñ‚Ñ‹	plotly, jinja2, openpyxl				Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ñ‹ Ğ¸ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸
DevOps			Docker, docker-compose, GitHub Actions			ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ CI/CD
Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ		pytest, httpx, jest					Ñ‚ĞµÑÑ‚Ñ‹ backend/frontend
Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ		mkdocs-material						Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API Ğ¸ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

ğŸ§  ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚         React UI           â”‚
       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
       â”‚  PortfolioForm / Charts    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ REST API
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   FastAPI API    â”‚
              â”‚/simulate, /reportâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Celery Worker      â”‚
              â”‚ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¿Ğ¾Ñ€Ñ‚Ñ„ĞµĞ»Ñ â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Kafka event: "simulation.completed"
                        â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Kafka Broker (topics):   â”‚
             â”‚ - portfolio-events       â”‚
             â”‚ - report-events          â”‚
             â”‚ - metrics-events         â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ consumer
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Analytics / Exporters   â”‚
              â”‚ HTML, Excel, Plotly     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                 PostgreSQL Storage
                 (Assets, Metrics, Jobs)

ğŸ§© Kafka Ğ¢Ğ¾Ğ¿Ğ¸ĞºĞ¸ Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
Topic			Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ			Payload (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€)
portfolio-events	simulation.started	{ "job_id": "uuid", "assets": ["AAPL", "BTC"], "start": "...", "end": "..." }
portfolio-events	simulation.completed	{ "job_id": "uuid", "result": {...}, "duration": 1.23 }
report-events		report.generated	{ "report_id": "uuid", "format": "html", "path": "..." }
metrics-events		metrics.updated		{ "portfolio_id": 12, "sharpe": 1.23, "drawdown": 0.2 }

ğŸ’¥ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ²ĞµÑ€ÑĞ¸Ñ 2.1 â€œĞ±Ğ¾Ğ¼Ğ±Ğ¾Ğ²Ğ°Ñâ€ ğŸ”¥
âœ… Kafka-first Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° â€” event-driven ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ñ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸
âœ… ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ PostgreSQL â€” production Ğ±Ğ°Ğ·Ğ°, ÑƒĞ´Ğ¾Ğ±Ğ½Ğ°Ñ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸
âœ… ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ â€” aiohttp + Celery + FastAPI
âœ… Ğ ĞµĞ°Ğ»Ñ‚Ğ°Ğ¹Ğ¼ Ğ½Ğ¾Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ â€” Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Kafka â†’ WebSocket â†’ React
âœ… ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° â€” backend, worker, frontend, kafka Ğ² docker-compose
âœ… CI/CD + DevOps stack â€” GitHub Actions, Docker, .env, Ğ»Ğ¸Ğ½Ñ‚ĞµÑ€Ñ‹
âœ… Data Science Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ â€” pandas, numpy, Plotly
âœ… Production ÑÑ‚Ğ¸Ğ»ÑŒ â€” Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ, Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
âœ… Ğ Ğ°ÑÑˆĞ¸Ñ€ÑĞµĞ¼Ğ¾ÑÑ‚ÑŒ â€” Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑÑ‚Ñ€Ğ¸Ğ¼Ñ‹, ML Ğ¸Ğ»Ğ¸ Telegram-Ğ±Ğ¾Ñ‚Ğ°